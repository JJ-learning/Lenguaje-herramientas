# Plantilla para realizar el ejercicio
import texto  # debeis crear un modulo que se llame así para usarlo aquí

# Textos de varios idiomas, extraidos de legislación europea pulicada en
# https://eur-lex.europa.eu/
texto_castellano = """
CAPÍTULO I
Disposiciones generales
Artículo 1
Objeto
1.  
El presente Reglamento establece las normas relativas a la protección de las 
personas físicas en lo que respecta al tratamiento de los datos personales y las 
normas relativas a la libre circulación de tales datos.
2.  
El presente Reglamento protege los derechos y libertades fundamentales de las 
personas físicas y, en particular, su derecho a la protección de los datos 
personales.
3.  
La libre circulación de los datos personales en la Unión no podrá ser restringida 
ni prohibida por motivos relacionados con la protección de las personas físicas en 
lo que respecta al tratamiento de datos personales.
Artículo 2
Ámbito de aplicación material
1.  
El presente Reglamento se aplica al tratamiento total o parcialmente automatizado 
de datos personales, así como al tratamiento no automatizado de datos personales 
contenidos o destinados a ser incluidos en un fichero.
2.  
El presente Reglamento no se aplica al tratamiento de datos personales:
a) 
en el ejercicio de una actividad no comprendida en el ámbito de aplicación del 
Derecho de la Unión;
b) 
por parte de los Estados miembros cuando lleven a cabo actividades comprendidas en 
el ámbito de aplicación del capítulo 2 del título V del TUE;
c) 
efectuado por una persona física en el ejercicio de actividades exclusivamente 
personales o domésticas;
d) 
por parte de las autoridades competentes con fines de prevención, investigación, 
detección o enjuiciamiento de infracciones penales, o de ejecución de sanciones 
penales, incluida la de protección frente a amenazas a la seguridad pública y su 
prevención.
3.  
El Reglamento (CE) n.o 45/2001 es de aplicación al tratamiento de datos de carácter
personal por parte de las instituciones, órganos y organismos de la Unión. El 
Reglamento (CE) n.o 45/2001 y otros actos jurídicos de la Unión aplicables a dicho 
tratamiento de datos de carácter personal se adaptarán a los principios y normas 
del presente Reglamento de conformidad con su artículo 98.
4.  
El presente Reglamento se entenderá sin perjuicio de la aplicación de la Directiva 
2000/31/CE, en particular sus normas relativas a la responsabilidad de los 
prestadores de servicios intermediarios establecidas en sus artículos 12 a 15.
"""
texto_ingles = """
CHAPTER I
General provisions
Article 1
Subject-matter and objectives
1.  
This Regulation lays down rules relating to the protection of natural persons with 
regard to the processing of personal data and rules relating to the free movement 
of personal data.
2.  
This Regulation protects fundamental rights and freedoms of natural persons and in 
particular their right to the protection of personal data.
3.  
The free movement of personal data within the Union shall be neither restricted nor
prohibited for reasons connected with the protection of natural persons with regard
to the processing of personal data.
Article 2
Material scope
1.  
This Regulation applies to the processing of personal data wholly or partly by 
automated means and to the processing other than by automated means of personal 
data which form part of a filing system or are intended to form part of a filing 
system.
2.  
This Regulation does not apply to the processing of personal data:
(a) 
in the course of an activity which falls outside the scope of Union law;
(b) 
by the Member States when carrying out activities which fall within the scope of 
Chapter 2 of Title V of the TEU;
(c) 
by a natural person in the course of a purely personal or household activity;
(d) 
by competent authorities for the purposes of the prevention, investigation, 
detection or prosecution of criminal offences or the execution of criminal 
penalties, including the safeguarding against and the prevention of threats to 
public security.
3.  
For the processing of personal data by the Union institutions, bodies, offices and 
agencies, Regulation (EC) No 45/2001 applies. Regulation (EC) No 45/2001 and other 
Union legal acts applicable to such processing of personal data shall be adapted to
the principles and rules of this Regulation in accordance with Article 98.
4.  
This Regulation shall be without prejudice to the application of Directive 2000/31/
EC, in particular of the liability rules of intermediary service providers in 
Articles 12 to 15 of that Directive.
"""
texto_danes = """
KAPITEL I
Generelle bestemmelser
Artikel 1
Genstand og formål
1.  I denne forordning fastsættes regler om beskyttelse af fysiske personer i 
forbindelse med behandling af personoplysninger og regler om fri udveksling af 
personoplysninger.
2.  Denne forordning beskytter fysiske personers grundlæggende rettigheder og 
frihedsrettigheder, navnlig deres ret til beskyttelse af personoplysninger.
3.  Den frie udveksling af personoplysninger i Unionen må hverken indskrænkes eller
forbydes af grunde, der vedrører beskyttelse af fysiske personer i forbindelse med 
behandling af personoplysninger.
Artikel 2
Materielt anvendelsesområde
1.  Denne forordning finder anvendelse på behandling af personoplysninger, der helt
eller delvis foretages ved hjælp af automatisk databehandling, og på anden 
ikkeautomatisk behandling af personoplysninger, der er eller vil blive indeholdt i 
et register.
2.  Denne forordning gælder ikke for behandling af personoplysninger:
a) under udøvelse af aktiviteter, der falder uden for EU-retten
b) som foretages af medlemsstaterne, når de udfører aktiviteter, der falder inden 
for rammerne af afsnit V, kapitel 2, i TEU
c) som foretages af en fysisk person som led i rent personlige eller familiemæssige
aktiviteter
d) som foretages af kompetente myndigheder med henblik på at forebygge, 
efterforske, afsløre eller retsforfølge strafbare handlinger eller fuldbyrde 
strafferetlige sanktioner, herunder beskytte mod og forebygge trusler mod den 
offentlige sikkerhed.
3.  Forordning (EF) nr. 45/2001 finder anvendelse på behandling af 
personoplysninger, som Unionens institutioner, organer, kontorer og agenturer 
foretager. Forordning (EF) nr. 45/2001 og andre EU-retsakter, der finder anvendelse
på sådan behandling af personoplysninger, tilpasses til principperne og 
bestemmelserne i nærværende forordning i overensstemmelse med artikel 98.
4.  Denne forordning berører ikke anvendelsen af direktiv 2000/31/EF, navnlig 
reglerne om formidleransvar for tjenesteydere, der er fastsat i artikel 12-15 i 
nævnte direktiv."""
texto_aleman = """
KAPITEL I
Allgemeine Bestimmungen
Artikel 1
Gegenstand und Ziele
(1)  
Diese Verordnung enthält Vorschriften zum Schutz natürlicher Personen bei der 
Verarbeitung personenbezogener Daten und zum freien Verkehr solcher Daten.
(2)  
Diese Verordnung schützt die Grundrechte und Grundfreiheiten natürlicher Personen 
und insbesondere deren Recht auf Schutz personenbezogener Daten.
(3)  
Der freie Verkehr personenbezogener Daten in der Union darf aus Gründen des 
Schutzes natürlicher Personen bei der Verarbeitung personenbezogener Daten weder 
eingeschränkt noch verboten werden.
Artikel 2
Sachlicher Anwendungsbereich
(1)  
Diese Verordnung gilt für die ganz oder teilweise automatisierte Verarbeitung 
personenbezogener Daten sowie für die nichtautomatisierte Verarbeitung 
personenbezogener Daten, die in einem Dateisystem gespeichert sind oder gespeichert
werden sollen.
(2)  
Diese Verordnung findet keine Anwendung auf die Verarbeitung personenbezogener 
Daten
a) 
im Rahmen einer Tätigkeit, die nicht in den Anwendungsbereich des Unionsrechts 
fällt,
b) 
durch die Mitgliedstaaten im Rahmen von Tätigkeiten, die in den Anwendungsbereich 
von Titel V Kapitel 2 EUV fallen,
c) 
durch natürliche Personen zur Ausübung ausschließlich persönlicher oder familiärer 
Tätigkeiten,
d) 
durch die zuständigen Behörden zum Zwecke der Verhütung, Ermittlung, Aufdeckung 
oder Verfolgung von Straftaten oder der Strafvollstreckung, einschließlich des 
Schutzes vor und der Abwehr von Gefahren für die öffentliche Sicherheit.
(3)  
Für die Verarbeitung personenbezogener Daten durch die Organe, Einrichtungen, Ämter
und Agenturen der Union gilt die Verordnung (EG) Nr. 45/2001. Die Verordnung (EG) 
Nr. 45/2001 und sonstige Rechtsakte der Union, die diese Verarbeitung 
personenbezogener Daten regeln, werden im Einklang mit Artikel 98 an die Grundsätze
und Vorschriften der vorliegenden Verordnung angepasst.
(4)  
Die vorliegende Verordnung lässt die Anwendung der Richtlinie 2000/31/EG und 
speziell die Vorschriften der Artikel 12 bis 15 dieser Richtlinie zur 
Verantwortlichkeit der Vermittler unberührt.
"""

texto_frances = """
CHAPITRE I
Dispositions générales
Article premier
Objet et objectifs
1.  Le présent règlement établit des règles relatives à la protection des personnes
physiques à l'égard du traitement des données à caractère personnel et des règles 
relatives à la libre circulation de ces données.
2.  Le présent règlement protège les libertés et droits fondamentaux des personnes 
physiques, et en particulier leur droit à la protection des données à caractère 
personnel.
3.  La libre circulation des données à caractère personnel au sein de l'Union n'est
ni limitée ni interdite pour des motifs liés à la protection des personnes 
physiques à l'égard du traitement des données à caractère personnel.
Article 2
Champ d'application matériel
1.  Le présent règlement s'applique au traitement de données à caractère personnel,
automatisé en tout ou en partie, ainsi qu'au traitement non automatisé de données à
caractère personnel contenues ou appelées à figurer dans un fichier.
2.  Le présent règlement ne s'applique pas au traitement de données à caractère 
personnel effectué:
a) dans le cadre d'une activité qui ne relève pas du champ d'application du droit 
de l'Union;
b) par les États membres dans le cadre d'activités qui relèvent du champ 
d'application du chapitre 2 du titre V du traité sur l'Union européenne;
c) par une personne physique dans le cadre d'une activité strictement personnelle 
ou domestique;
d) par les autorités compétentes à des fins de prévention et de détection des 
infractions pénales, d'enquêtes et de poursuites en la matière ou d'exécution de 
sanctions pénales, y compris la protection contre des menaces pour la sécurité 
publique et la prévention de telles menaces.
3.  Le règlement (CE) no 45/2001 s'applique au traitement des données à caractère 
personnel par les institutions, organes et organismes de l'Union. Le règlement (CE)
no 45/2001 et les autres actes juridiques de l'Union applicables audit traitement 
des données à caractère personnel sont adaptés aux principes et aux règles du 
présent règlement conformément à l'article 98.
4.  Le présent règlement s'applique sans préjudice de la directive 2000/31/CE, et 
notamment de ses articles 12 à 15 relatifs à la responsabilité des prestataires de 
services intermédiaires."""

# Para cada idioma, creamos un objeto de la clase 'Texto' que habeis desarrollado  en el modulo 'texto'.
# De esta forma, el siguiente diccionario tendrá la información necesaria para identificar las caracteristicas de cada idioma.

idiomas = {
    "Alemán": texto.Texto(texto_aleman),
    "Castellano": texto.Texto(texto_castellano),
    "Danés": texto.Texto(texto_danes),
    "Francés": texto.Texto(texto_frances),
    "Inglés": texto.Texto(texto_ingles),
}


def detectar_idioma(objeto_texto):
    """
        Analiza cadena_texto y devuelve una de las siguientes cadenas: 'Alemán',
    'Castellano', 'Danés', 'Francés'
        o 'Inglés' indicando el idioma detectado como más probable.
    """
    # ------>  Desarrollar aquí el algoritmo que detecte el idioma   <-------

    text_castellano = texto.Texto(texto_castellano)

    text_aleman = texto.Texto(texto_aleman)

    text_danes = texto.Texto(texto_danes)

    text_ingles = texto.Texto(texto_ingles)

    text_frances = texto.Texto(texto_frances)

    distances = {"castellano": 0, "aleman": 0, "danes": 0, "ingles": 0, "frances": 0}

    for palabra in objeto_texto.palabras:

        distances["castellano"] += text_castellano.dividido(palabra)
        distances["aleman"] += text_aleman.dividido(palabra)
        distances["danes"] += text_danes.dividido(palabra)
        distances["ingles"] += text_ingles.dividido(palabra)
        distances["frances"] += text_frances.dividido(palabra)

    return max(distances, key=lambda key: distances[key])


if __name__ == "__main__":
    # Un texto para que nuestro algoritmo averigüe su idioma. Cuanto más largo,
    # más sencilla será la detección. Textos muy cortos pueden ser muy dificiles.
    # El que os ponemos aquí tiene un tamaño adecuado para que un algoritmo
    # relativamente sencillo pueda identificarlo como idioma Francés. Probad
    # con otros textos extraidos de la Wikipedia[1] en cada uno de los 5 idiomas.
    # [1] https://www.wikipedia.org/
    texto_prueba = """
    La période du vieux norrois voit se développer deux dialectes distincts : un 
dialecte occidental, parlé en Norvège et en Islande, et un dialecte oriental, parlé
en Suède et au Danemark. La plupart des changements qui distinguent ces deux 
dialectes apparaissent d'abord au Danemark avant de se répandre en Suède par la 
Scanie et dans le sud de la Norvège à travers les échanges maritimes. L'un des 
changements distinctifs du vieux norrois oriental est la réduction de la diphtongue
/æi/ en monophtongue /e/, alors qu'elle reste diphtonguée en  dans le vieux 
norrois occidental. De la même manière, les diphtongues /au/ et /øy/ évoluent en 
/ø/. Ce phénomène est d'abord attesté dans la péninsule du Jutland avant de 
s'étendre vers l'est. Au début du XIIe siècle, il est répandu dans tout le Danemark
et la majeure partie de la Suède.
    """
    tp = texto.Texto(texto_castellano)
    print(detectar_idioma(tp))
